{"numFailedTestSuites":6,"numFailedTests":17,"numPassedTestSuites":13,"numPassedTests":71,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":19,"numTotalTests":88,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1771703832742,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["AnalyticsService"],"duration":29,"failing":false,"failureDetails":[{"type":"AnalyticsService","context":{"index":0,"dependencies":["VisitRepository","UserRepository"],"name":"VisitRepository"},"metadata":{"id":"c894cfe9c36f550a93fd3"},"moduleRef":{"id":"04c99e0f82c894cfe9c36"}}],"failureMessages":["Error: Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n- If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"VisitRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 0)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\analytics\\analytics.service.spec.ts:8:39)"],"fullName":"AnalyticsService should be defined","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703837438,"status":"failed","title":"should be defined"},{"ancestorTitles":["AnalyticsService","getDashboardAnalytics"],"duration":9,"failing":false,"failureDetails":[{"type":"AnalyticsService","context":{"index":0,"dependencies":["VisitRepository","UserRepository"],"name":"VisitRepository"},"metadata":{"id":"9c6c8d0c6a19077dfb683"},"moduleRef":{"id":"f550a93fd39c6c8d0c6a1"}}],"failureMessages":["Error: Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n- If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"VisitRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 0)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\analytics\\analytics.service.spec.ts:8:39)"],"fullName":"AnalyticsService getDashboardAnalytics should return dashboard analytics data","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703837483,"status":"failed","title":"should return dashboard analytics data"},{"ancestorTitles":["AnalyticsService","getFootfallAnalytics"],"duration":8,"failing":false,"failureDetails":[{"type":"AnalyticsService","context":{"index":0,"dependencies":["VisitRepository","UserRepository"],"name":"VisitRepository"},"metadata":{"id":"877d1364f0e4297e4258f"},"moduleRef":{"id":"9077dfb683877d1364f0e"}}],"failureMessages":["Error: Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n- If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"VisitRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 0)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\analytics\\analytics.service.spec.ts:8:39)"],"fullName":"AnalyticsService getFootfallAnalytics should return footfall analytics data","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703837497,"status":"failed","title":"should return footfall analytics data"},{"ancestorTitles":["AnalyticsService","getPeakTimesAnalytics"],"duration":12,"failing":false,"failureDetails":[{"type":"AnalyticsService","context":{"index":0,"dependencies":["VisitRepository","UserRepository"],"name":"VisitRepository"},"metadata":{"id":"52716a00309432e772e97"},"moduleRef":{"id":"4297e4258f52716a00309"}}],"failureMessages":["Error: Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n- If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"VisitRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 0)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\analytics\\analytics.service.spec.ts:8:39)"],"fullName":"AnalyticsService getPeakTimesAnalytics should return peak times analytics data","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703837506,"status":"failed","title":"should return peak times analytics data"}],"endTime":1771703837573,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAnalyticsService › should be defined\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"VisitRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m  6 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m  7 |\u001b[39m     beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m  8 |\u001b[39m         \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m  9 |\u001b[39m             providers\u001b[33m:\u001b[39m [\u001b[33mAnalyticsService\u001b[39m]\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 10 |\u001b[39m         })\u001b[33m.\u001b[39mcompile()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 11 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 0)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/analytics/analytics.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:8:39)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAnalyticsService › getDashboardAnalytics › should return dashboard analytics data\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"VisitRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m  6 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m  7 |\u001b[39m     beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m  8 |\u001b[39m         \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m  9 |\u001b[39m             providers\u001b[33m:\u001b[39m [\u001b[33mAnalyticsService\u001b[39m]\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 10 |\u001b[39m         })\u001b[33m.\u001b[39mcompile()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 11 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 0)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/analytics/analytics.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:8:39)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAnalyticsService › getFootfallAnalytics › should return footfall analytics data\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"VisitRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m  6 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m  7 |\u001b[39m     beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m  8 |\u001b[39m         \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m  9 |\u001b[39m             providers\u001b[33m:\u001b[39m [\u001b[33mAnalyticsService\u001b[39m]\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 10 |\u001b[39m         })\u001b[33m.\u001b[39mcompile()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 11 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 0)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/analytics/analytics.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:8:39)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAnalyticsService › getPeakTimesAnalytics › should return peak times analytics data\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"VisitRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m  6 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m  7 |\u001b[39m     beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m  8 |\u001b[39m         \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m  9 |\u001b[39m             providers\u001b[33m:\u001b[39m [\u001b[33mAnalyticsService\u001b[39m]\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 10 |\u001b[39m         })\u001b[33m.\u001b[39mcompile()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 11 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 0)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/analytics/analytics.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:8:39)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\analytics\\analytics.service.spec.ts","startTime":1771703833787,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["UsersService","create"],"duration":30,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UsersService create should allow creating a STAFF user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703837496,"status":"passed","title":"should allow creating a STAFF user"},{"ancestorTitles":["UsersService","create"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UsersService create should allow creating a MANAGER user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703837527,"status":"passed","title":"should allow creating a MANAGER user"},{"ancestorTitles":["UsersService","create"],"duration":7,"failing":false,"failureDetails":[{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\nReceived promise resolved instead of rejected\nResolved to value: \u001b[31m{\"businessId\": \"biz-1\", \"email\": \"john@example.com\", \"firstName\": \"John\", \"id\": \"user-1\", \"jobTitle\": \"Sales\", \"lastName\": \"Doe\", \"permissions\": [], \"role\": \"Owner\", \"status\": \"Active\"}\u001b[39m"}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\nReceived promise resolved instead of rejected\nResolved to value: \u001b[31m{\"businessId\": \"biz-1\", \"email\": \"john@example.com\", \"firstName\": \"John\", \"id\": \"user-1\", \"jobTitle\": \"Sales\", \"lastName\": \"Doe\", \"permissions\": [], \"role\": \"Owner\", \"status\": \"Active\"}\u001b[39m\n    at expect (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\expect@30.2.0\\node_modules\\expect\\build\\index.js:2116:15)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\users\\users.service.spec.ts:62:13)\n    at Promise.finally.completed (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-runner@30.2.0\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n    at runTest (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-runner@30.2.0\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n    at Object.worker (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-runner@30.2.0\\node_modules\\jest-runner\\build\\testWorker.js:497:12)"],"fullName":"UsersService create should throw BadRequestException when trying to create OWNER","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703837531,"status":"failed","title":"should throw BadRequestException when trying to create OWNER"},{"ancestorTitles":["UsersService","create"],"duration":15,"failing":false,"failureDetails":[{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\nReceived promise resolved instead of rejected\nResolved to value: \u001b[31m{\"businessId\": \"biz-1\", \"email\": \"john@example.com\", \"firstName\": \"John\", \"id\": \"user-1\", \"jobTitle\": \"Sales\", \"lastName\": \"Doe\", \"permissions\": [], \"role\": \"Admin\", \"status\": \"Active\"}\u001b[39m"}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\nReceived promise resolved instead of rejected\nResolved to value: \u001b[31m{\"businessId\": \"biz-1\", \"email\": \"john@example.com\", \"firstName\": \"John\", \"id\": \"user-1\", \"jobTitle\": \"Sales\", \"lastName\": \"Doe\", \"permissions\": [], \"role\": \"Admin\", \"status\": \"Active\"}\u001b[39m\n    at expect (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\expect@30.2.0\\node_modules\\expect\\build\\index.js:2116:15)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\users\\users.service.spec.ts:67:13)\n    at Promise.finally.completed (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1557:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1497:10)\n    at _callCircusTest (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1007:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:947:3)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:849:7\n    at _runTestsForDescribeBlock (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:862:11)\n    at _runTestsForDescribeBlock (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at _runTestsForDescribeBlock (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:857:11)\n    at run (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:761:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\jestAdapterInit.js:1918:21)\n    at jestAdapter (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-circus@30.2.0\\node_modules\\jest-circus\\build\\runner.js:101:19)\n    at runTestInternal (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-runner@30.2.0\\node_modules\\jest-runner\\build\\testWorker.js:275:16)\n    at runTest (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-runner@30.2.0\\node_modules\\jest-runner\\build\\testWorker.js:343:7)\n    at Object.worker (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\jest-runner@30.2.0\\node_modules\\jest-runner\\build\\testWorker.js:497:12)"],"fullName":"UsersService create should throw BadRequestException when trying to create ADMIN","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703837557,"status":"failed","title":"should throw BadRequestException when trying to create ADMIN"},{"ancestorTitles":["UsersService","findByBusiness"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UsersService findByBusiness should return users for a business","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703837573,"status":"passed","title":"should return users for a business"},{"ancestorTitles":["UsersService","updateStaff"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UsersService updateStaff should update staff details","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1771703837582,"status":"passed","title":"should update staff details"},{"ancestorTitles":["UsersService","updateStaff"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UsersService updateStaff should throw NotFoundException if user not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703837589,"status":"passed","title":"should throw NotFoundException if user not found"},{"ancestorTitles":["UsersService","updateStaff"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UsersService updateStaff should throw NotFoundException if user belongs to another business","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703837602,"status":"passed","title":"should throw NotFoundException if user belongs to another business"},{"ancestorTitles":["UsersService","remove"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UsersService remove should remove staff member","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703837617,"status":"passed","title":"should remove staff member"},{"ancestorTitles":["UsersService","remove"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"UsersService remove should throw BadRequestException when trying to remove OWNER","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703837626,"status":"passed","title":"should throw BadRequestException when trying to remove OWNER"}],"endTime":1771703837686,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mUsersService › create › should throw BadRequestException when trying to create OWNER\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\n    Received promise resolved instead of rejected\n    Resolved to value: \u001b[31m{\"businessId\": \"biz-1\", \"email\": \"john@example.com\", \"firstName\": \"John\", \"id\": \"user-1\", \"jobTitle\": \"Sales\", \"lastName\": \"Doe\", \"permissions\": [], \"role\": \"Owner\", \"status\": \"Active\"}\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 60 |\u001b[39m     it(\u001b[32m'should throw BadRequestException when trying to create OWNER'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 61 |\u001b[39m       \u001b[36mconst\u001b[39m dto \u001b[33m=\u001b[39m { \u001b[33m...\u001b[39mmockUser\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[33mUserRole\u001b[39m\u001b[33m.\u001b[39m\u001b[33mOWNER\u001b[39m }\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 62 |\u001b[39m       \u001b[36mawait\u001b[39m expect(service\u001b[33m.\u001b[39mcreate(dto))\u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[33mBadRequestException\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 63 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 64 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 65 |\u001b[39m     it(\u001b[32m'should throw BadRequestException when trying to create ADMIN'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat expect (\u001b[22m\u001b[2m../../../node_modules/.pnpm/expect@30.2.0/node_modules/expect/build/index.js\u001b[2m:2116:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/users/users.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:62:13)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mUsersService › create › should throw BadRequestException when trying to create ADMIN\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\n    Received promise resolved instead of rejected\n    Resolved to value: \u001b[31m{\"businessId\": \"biz-1\", \"email\": \"john@example.com\", \"firstName\": \"John\", \"id\": \"user-1\", \"jobTitle\": \"Sales\", \"lastName\": \"Doe\", \"permissions\": [], \"role\": \"Admin\", \"status\": \"Active\"}\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 65 |\u001b[39m     it(\u001b[32m'should throw BadRequestException when trying to create ADMIN'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 66 |\u001b[39m       \u001b[36mconst\u001b[39m dto \u001b[33m=\u001b[39m { \u001b[33m...\u001b[39mmockUser\u001b[33m,\u001b[39m role\u001b[33m:\u001b[39m \u001b[33mUserRole\u001b[39m\u001b[33m.\u001b[39m\u001b[33mADMIN\u001b[39m }\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 67 |\u001b[39m       \u001b[36mawait\u001b[39m expect(service\u001b[33m.\u001b[39mcreate(dto))\u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[33mBadRequestException\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 68 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 69 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 70 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat expect (\u001b[22m\u001b[2m../../../node_modules/.pnpm/expect@30.2.0/node_modules/expect/build/index.js\u001b[2m:2116:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/users/users.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:67:13)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\users\\users.service.spec.ts","startTime":1771703833778,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["AnalyticsController"],"duration":35,"failing":false,"failureDetails":[{"type":"AnalyticsService","context":{"index":0,"dependencies":["VisitRepository","UserRepository"],"name":"VisitRepository"},"metadata":{"id":"eaa430e28fbefa8751e6d"},"moduleRef":{"id":"27a523224beaa430e28fb"}}],"failureMessages":["Error: Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n- If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"VisitRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 0)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\analytics\\analytics.controller.spec.ts:11:39)"],"fullName":"AnalyticsController should be defined","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703837770,"status":"failed","title":"should be defined"},{"ancestorTitles":["AnalyticsController","getDashboardAnalytics"],"duration":9,"failing":false,"failureDetails":[{"type":"AnalyticsService","context":{"index":0,"dependencies":["VisitRepository","UserRepository"],"name":"VisitRepository"},"metadata":{"id":"733b874cfa7daf14c6009"},"moduleRef":{"id":"1e6da4da45733b874cfa7"}}],"failureMessages":["Error: Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n- If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"VisitRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 0)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\analytics\\analytics.controller.spec.ts:11:39)"],"fullName":"AnalyticsController getDashboardAnalytics should return dashboard analytics data","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703837820,"status":"failed","title":"should return dashboard analytics data"},{"ancestorTitles":["AnalyticsController","getFootfallAnalytics"],"duration":5,"failing":false,"failureDetails":[{"type":"AnalyticsService","context":{"index":0,"dependencies":["VisitRepository","UserRepository"],"name":"VisitRepository"},"metadata":{"id":"54e9e06b10417e76bd5e9"},"moduleRef":{"id":"6009b7028054e9e06b104"}}],"failureMessages":["Error: Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n- If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"VisitRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 0)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\analytics\\analytics.controller.spec.ts:11:39)"],"fullName":"AnalyticsController getFootfallAnalytics should return footfall analytics data","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703837831,"status":"failed","title":"should return footfall analytics data"},{"ancestorTitles":["AnalyticsController","getPeakTimesAnalytics"],"duration":12,"failing":false,"failureDetails":[{"type":"AnalyticsService","context":{"index":0,"dependencies":["VisitRepository","UserRepository"],"name":"VisitRepository"},"metadata":{"id":"705b7249012b11123dbab"},"moduleRef":{"id":"d5e96dc638705b7249012"}}],"failureMessages":["Error: Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n- If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"VisitRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 0)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\analytics\\analytics.controller.spec.ts:11:39)"],"fullName":"AnalyticsController getPeakTimesAnalytics should return peak times analytics data","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703837837,"status":"failed","title":"should return peak times analytics data"}],"endTime":1771703837905,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAnalyticsController › should be defined\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"VisitRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m  9 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 10 |\u001b[39m     beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 11 |\u001b[39m         \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 12 |\u001b[39m             controllers\u001b[33m:\u001b[39m [\u001b[33mAnalyticsController\u001b[39m]\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 13 |\u001b[39m             providers\u001b[33m:\u001b[39m [\u001b[22m\n\u001b[2m     \u001b[90m 14 |\u001b[39m                 \u001b[33mAnalyticsService\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 0)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/analytics/analytics.controller.spec.ts\u001b[39m\u001b[0m\u001b[2m:11:39)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAnalyticsController › getDashboardAnalytics › should return dashboard analytics data\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"VisitRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m  9 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 10 |\u001b[39m     beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 11 |\u001b[39m         \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 12 |\u001b[39m             controllers\u001b[33m:\u001b[39m [\u001b[33mAnalyticsController\u001b[39m]\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 13 |\u001b[39m             providers\u001b[33m:\u001b[39m [\u001b[22m\n\u001b[2m     \u001b[90m 14 |\u001b[39m                 \u001b[33mAnalyticsService\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 0)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/analytics/analytics.controller.spec.ts\u001b[39m\u001b[0m\u001b[2m:11:39)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAnalyticsController › getFootfallAnalytics › should return footfall analytics data\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"VisitRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m  9 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 10 |\u001b[39m     beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 11 |\u001b[39m         \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 12 |\u001b[39m             controllers\u001b[33m:\u001b[39m [\u001b[33mAnalyticsController\u001b[39m]\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 13 |\u001b[39m             providers\u001b[33m:\u001b[39m [\u001b[22m\n\u001b[2m     \u001b[90m 14 |\u001b[39m                 \u001b[33mAnalyticsService\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 0)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/analytics/analytics.controller.spec.ts\u001b[39m\u001b[0m\u001b[2m:11:39)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAnalyticsController › getPeakTimesAnalytics › should return peak times analytics data\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the AnalyticsService (?, UserRepository). Please make sure that the argument \"VisitRepository\" at index [0] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"VisitRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"VisitRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"VisitRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m  9 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 10 |\u001b[39m     beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 11 |\u001b[39m         \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 12 |\u001b[39m             controllers\u001b[33m:\u001b[39m [\u001b[33mAnalyticsController\u001b[39m]\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 13 |\u001b[39m             providers\u001b[33m:\u001b[39m [\u001b[22m\n\u001b[2m     \u001b[90m 14 |\u001b[39m                 \u001b[33mAnalyticsService\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 0)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/analytics/analytics.controller.spec.ts\u001b[39m\u001b[0m\u001b[2m:11:39)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\analytics\\analytics.controller.spec.ts","startTime":1771703833794,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["SubscriptionsService"],"duration":29,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SubscriptionsService should be defined","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703837651,"status":"passed","title":"should be defined"},{"ancestorTitles":["SubscriptionsService","activeSubscription"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SubscriptionsService activeSubscription should return active subscription","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703837681,"status":"passed","title":"should return active subscription"},{"ancestorTitles":["SubscriptionsService","activeSubscription"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SubscriptionsService activeSubscription should update status to expired if end date is in the past","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703837690,"status":"passed","title":"should update status to expired if end date is in the past"},{"ancestorTitles":["SubscriptionsService","verifyPaystackPayment"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SubscriptionsService verifyPaystackPayment should return true for valid payment","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703837699,"status":"passed","title":"should return true for valid payment"},{"ancestorTitles":["SubscriptionsService","verifyPaystackPayment"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SubscriptionsService verifyPaystackPayment should return false for invalid payment","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703837706,"status":"passed","title":"should return false for invalid payment"},{"ancestorTitles":["SubscriptionsService","subscribe"],"duration":67,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SubscriptionsService subscribe should throw if plan is not active","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703837713,"status":"passed","title":"should throw if plan is not active"},{"ancestorTitles":["SubscriptionsService","subscribe"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SubscriptionsService subscribe should throw if business not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703837780,"status":"passed","title":"should throw if business not found"},{"ancestorTitles":["SubscriptionsService","subscribe"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SubscriptionsService subscribe should throw if payment ref is missing for paid plan","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703837785,"status":"passed","title":"should throw if payment ref is missing for paid plan"},{"ancestorTitles":["SubscriptionsService","subscribe"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SubscriptionsService subscribe should verify payment and create subscription for paid plan","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1771703837792,"status":"passed","title":"should verify payment and create subscription for paid plan"},{"ancestorTitles":["SubscriptionsService","subscribe"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SubscriptionsService subscribe should safely subscribe to free plan without payment ref","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703837800,"status":"passed","title":"should safely subscribe to free plan without payment ref"},{"ancestorTitles":["SubscriptionsService","subscribe"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SubscriptionsService subscribe should cancel active plan upon new subscription","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703837804,"status":"passed","title":"should cancel active plan upon new subscription"},{"ancestorTitles":["SubscriptionsService","getCapabilities"],"duration":22,"failing":false,"failureDetails":[{"matcherResult":{"actual":{"teamMembers":{"limit":5,"used":1,"remaining":4},"tags":{"limit":10,"used":2,"remaining":8},"loyaltyPrograms":{"limit":2,"used":0,"remaining":2},"branches":{"limit":"unlimited","used":0,"remaining":null},"analytics":"basic"},"expected":{"teamMembers":{"limit":5,"used":1,"remaining":4},"tags":{"limit":10,"used":2,"remaining":8},"loyaltyPrograms":{"limit":2,"used":0,"remaining":2},"analytics":"basic"},"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n\u001b[32m- Expected  - 0\u001b[39m\n\u001b[31m+ Received  + 5\u001b[39m\n\n\u001b[33m@@ -1,7 +1,12 @@\u001b[39m\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"analytics\": \"basic\",\u001b[22m\n\u001b[31m+   \"branches\": Object {\u001b[39m\n\u001b[31m+     \"limit\": \"unlimited\",\u001b[39m\n\u001b[31m+     \"remaining\": NaN,\u001b[39m\n\u001b[31m+     \"used\": 0,\u001b[39m\n\u001b[31m+   },\u001b[39m\n\u001b[2m    \"loyaltyPrograms\": Object {\u001b[22m\n\u001b[2m      \"limit\": 2,\u001b[22m\n\u001b[2m      \"remaining\": 2,\u001b[22m\n\u001b[2m      \"used\": 0,\u001b[22m\n\u001b[2m    },\u001b[22m","name":"toEqual","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n\u001b[32m- Expected  - 0\u001b[39m\n\u001b[31m+ Received  + 5\u001b[39m\n\n\u001b[33m@@ -1,7 +1,12 @@\u001b[39m\n\u001b[2m  Object {\u001b[22m\n\u001b[2m    \"analytics\": \"basic\",\u001b[22m\n\u001b[31m+   \"branches\": Object {\u001b[39m\n\u001b[31m+     \"limit\": \"unlimited\",\u001b[39m\n\u001b[31m+     \"remaining\": NaN,\u001b[39m\n\u001b[31m+     \"used\": 0,\u001b[39m\n\u001b[31m+   },\u001b[39m\n\u001b[2m    \"loyaltyPrograms\": Object {\u001b[22m\n\u001b[2m      \"limit\": 2,\u001b[22m\n\u001b[2m      \"remaining\": 2,\u001b[22m\n\u001b[2m      \"used\": 0,\u001b[22m\n\u001b[2m    },\u001b[22m\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\subscriptions\\subscriptions.service.spec.ts:212:39)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"SubscriptionsService getCapabilities should calculate capabilities correctly based on active plan","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703837810,"status":"failed","title":"should calculate capabilities correctly based on active plan"},{"ancestorTitles":["SubscriptionsService","getCapabilities"],"duration":18,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SubscriptionsService getCapabilities should fallback to free plan if no active subscription","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771703837833,"status":"passed","title":"should fallback to free plan if no active subscription"}],"endTime":1771703837922,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mSubscriptionsService › getCapabilities › should calculate capabilities correctly based on active plan\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n    \u001b[32m- Expected  - 0\u001b[39m\n    \u001b[31m+ Received  + 5\u001b[39m\n\n    \u001b[33m@@ -1,7 +1,12 @@\u001b[39m\n    \u001b[2m  Object {\u001b[22m\n    \u001b[2m    \"analytics\": \"basic\",\u001b[22m\n    \u001b[31m+   \"branches\": Object {\u001b[39m\n    \u001b[31m+     \"limit\": \"unlimited\",\u001b[39m\n    \u001b[31m+     \"remaining\": NaN,\u001b[39m\n    \u001b[31m+     \"used\": 0,\u001b[39m\n    \u001b[31m+   },\u001b[39m\n    \u001b[2m    \"loyaltyPrograms\": Object {\u001b[22m\n    \u001b[2m      \"limit\": 2,\u001b[22m\n    \u001b[2m      \"remaining\": 2,\u001b[22m\n    \u001b[2m      \"used\": 0,\u001b[22m\n    \u001b[2m    },\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 210 |\u001b[39m             expect(caps\u001b[33m.\u001b[39misActive)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 211 |\u001b[39m             expect(caps\u001b[33m.\u001b[39mplan)\u001b[33m.\u001b[39mtoEqual(\u001b[32m'Test Plan'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 212 |\u001b[39m             expect(caps\u001b[33m.\u001b[39mcapabilities)\u001b[33m.\u001b[39mtoEqual({\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 213 |\u001b[39m                 teamMembers\u001b[33m:\u001b[39m { limit\u001b[33m:\u001b[39m \u001b[35m5\u001b[39m\u001b[33m,\u001b[39m used\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m\u001b[33m,\u001b[39m remaining\u001b[33m:\u001b[39m \u001b[35m4\u001b[39m }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 214 |\u001b[39m                 tags\u001b[33m:\u001b[39m { limit\u001b[33m:\u001b[39m \u001b[35m10\u001b[39m\u001b[33m,\u001b[39m used\u001b[33m:\u001b[39m \u001b[35m2\u001b[39m\u001b[33m,\u001b[39m remaining\u001b[33m:\u001b[39m \u001b[35m8\u001b[39m }\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 215 |\u001b[39m                 loyaltyPrograms\u001b[33m:\u001b[39m { limit\u001b[33m:\u001b[39m \u001b[35m2\u001b[39m\u001b[33m,\u001b[39m used\u001b[33m:\u001b[39m \u001b[35m0\u001b[39m\u001b[33m,\u001b[39m remaining\u001b[33m:\u001b[39m \u001b[35m2\u001b[39m }\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/subscriptions/subscriptions.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:212:39)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\subscriptions\\subscriptions.service.spec.ts","startTime":1771703833769,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["CampaignsService"],"duration":34,"failing":false,"failureDetails":[{"type":"CampaignsService","context":{"index":2,"dependencies":["CampaignRepository","CampaignTemplateRepository","LoyaltyProfileRepository","PointTransactionRepository","LoyaltyRuleRepository","RewardRepository","RedemptionRepository"],"name":"LoyaltyProfileRepository"},"metadata":{"id":"b1b1ef1afb0dc44e04b6e"},"moduleRef":{"id":"a070b7bb03b1b1ef1afb0"}}],"failureMessages":["Error: Nest can't resolve dependencies of the CampaignsService (CampaignRepository, CampaignTemplateRepository, ?, PointTransactionRepository, LoyaltyRuleRepository, RewardRepository, RedemptionRepository). Please make sure that the argument \"LoyaltyProfileRepository\" at index [2] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"LoyaltyProfileRepository\" is a provider, is it part of the current RootTestModule?\n- If \"LoyaltyProfileRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"LoyaltyProfileRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 2)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\campaigns\\campaigns.service.spec.ts:34:35)"],"fullName":"CampaignsService should be defined","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703838358,"status":"failed","title":"should be defined"},{"ancestorTitles":["CampaignsService","create"],"duration":5,"failing":false,"failureDetails":[{"type":"CampaignsService","context":{"index":2,"dependencies":["CampaignRepository","CampaignTemplateRepository","LoyaltyProfileRepository","PointTransactionRepository","LoyaltyRuleRepository","RewardRepository","RedemptionRepository"],"name":"LoyaltyProfileRepository"},"metadata":{"id":"a19cfec0db680ce7d0695"},"moduleRef":{"id":"44e04b6e6da19cfec0db6"}}],"failureMessages":["Error: Nest can't resolve dependencies of the CampaignsService (CampaignRepository, CampaignTemplateRepository, ?, PointTransactionRepository, LoyaltyRuleRepository, RewardRepository, RedemptionRepository). Please make sure that the argument \"LoyaltyProfileRepository\" at index [2] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"LoyaltyProfileRepository\" is a provider, is it part of the current RootTestModule?\n- If \"LoyaltyProfileRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"LoyaltyProfileRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 2)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\campaigns\\campaigns.service.spec.ts:34:35)"],"fullName":"CampaignsService create should create a new campaign","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703838406,"status":"failed","title":"should create a new campaign"}],"endTime":1771703838445,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCampaignsService › should be defined\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the CampaignsService (CampaignRepository, CampaignTemplateRepository, ?, PointTransactionRepository, LoyaltyRuleRepository, RewardRepository, RedemptionRepository). Please make sure that the argument \"LoyaltyProfileRepository\" at index [2] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"LoyaltyProfileRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"LoyaltyProfileRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"LoyaltyProfileRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 32 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m   beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 35 |\u001b[39m       providers\u001b[33m:\u001b[39m [\u001b[22m\n\u001b[2m     \u001b[90m 36 |\u001b[39m         \u001b[33mCampaignsService\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 37 |\u001b[39m         {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 2)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/campaigns/campaigns.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:34:35)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mCampaignsService › create › should create a new campaign\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the CampaignsService (CampaignRepository, CampaignTemplateRepository, ?, PointTransactionRepository, LoyaltyRuleRepository, RewardRepository, RedemptionRepository). Please make sure that the argument \"LoyaltyProfileRepository\" at index [2] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"LoyaltyProfileRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"LoyaltyProfileRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"LoyaltyProfileRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 32 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m   beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 34 |\u001b[39m     \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 35 |\u001b[39m       providers\u001b[33m:\u001b[39m [\u001b[22m\n\u001b[2m     \u001b[90m 36 |\u001b[39m         \u001b[33mCampaignsService\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 37 |\u001b[39m         {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 2)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/campaigns/campaigns.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:34:35)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\campaigns\\campaigns.service.spec.ts","startTime":1771703833720,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["MessagingEngineService","sendMessage"],"duration":60,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MessagingEngineService sendMessage should throw an error if business is not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703838384,"status":"passed","title":"should throw an error if business is not found"},{"ancestorTitles":["MessagingEngineService","sendMessage"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"MessagingEngineService sendMessage should deduct credits and enqueue a batch job when targeting multiple contacts","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1771703838446,"status":"passed","title":"should deduct credits and enqueue a batch job when targeting multiple contacts"}],"endTime":1771703838456,"message":"","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\messaging\\services\\messaging-engine.service.spec.ts","startTime":1771703833819,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["VisitorsService"],"duration":63,"failing":false,"failureDetails":[{"type":"VisitorsService","context":{"index":2,"dependencies":["UserRepository","VisitRepository","DeviceRepository",null,null],"name":"DeviceRepository"},"metadata":{"id":"6f0de52e59d9ffe9510b2"},"moduleRef":{"id":"a4de29e4896f0de52e59d"}}],"failureMessages":["Error: Nest can't resolve dependencies of the VisitorsService (UserRepository, VisitRepository, ?, MessagingEngineService, CampaignsService). Please make sure that the argument \"DeviceRepository\" at index [2] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"DeviceRepository\" is a provider, is it part of the current RootTestModule?\n- If \"DeviceRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"DeviceRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 2)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\visitors\\visitors.service.spec.ts:30:35)"],"fullName":"VisitorsService should be defined","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703838918,"status":"failed","title":"should be defined"},{"ancestorTitles":["VisitorsService","findAll"],"duration":4,"failing":false,"failureDetails":[{"type":"VisitorsService","context":{"index":2,"dependencies":["UserRepository","VisitRepository","DeviceRepository",null,null],"name":"DeviceRepository"},"metadata":{"id":"4f4f645638a044da2eeef"},"moduleRef":{"id":"fe9510b25e4f4f645638a"}}],"failureMessages":["Error: Nest can't resolve dependencies of the VisitorsService (UserRepository, VisitRepository, ?, MessagingEngineService, CampaignsService). Please make sure that the argument \"DeviceRepository\" at index [2] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"DeviceRepository\" is a provider, is it part of the current RootTestModule?\n- If \"DeviceRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"DeviceRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 2)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\visitors\\visitors.service.spec.ts:30:35)"],"fullName":"VisitorsService findAll should return paginated visitors","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703839030,"status":"failed","title":"should return paginated visitors"},{"ancestorTitles":["VisitorsService","create"],"duration":4,"failing":false,"failureDetails":[{"type":"VisitorsService","context":{"index":2,"dependencies":["UserRepository","VisitRepository","DeviceRepository",null,null],"name":"DeviceRepository"},"metadata":{"id":"0feabdfaa162082017437"},"moduleRef":{"id":"4da2eeef3c0feabdfaa16"}}],"failureMessages":["Error: Nest can't resolve dependencies of the VisitorsService (UserRepository, VisitRepository, ?, MessagingEngineService, CampaignsService). Please make sure that the argument \"DeviceRepository\" at index [2] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"DeviceRepository\" is a provider, is it part of the current RootTestModule?\n- If \"DeviceRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"DeviceRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 2)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\visitors\\visitors.service.spec.ts:30:35)"],"fullName":"VisitorsService create should create a new visitor (user + visit) if user does not exist","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703839035,"status":"failed","title":"should create a new visitor (user + visit) if user does not exist"},{"ancestorTitles":["VisitorsService","getStats"],"duration":4,"failing":false,"failureDetails":[{"type":"VisitorsService","context":{"index":2,"dependencies":["UserRepository","VisitRepository","DeviceRepository",null,null],"name":"DeviceRepository"},"metadata":{"id":"2d5c861b28809eded12ef"},"moduleRef":{"id":"82017437612d5c861b288"}}],"failureMessages":["Error: Nest can't resolve dependencies of the VisitorsService (UserRepository, VisitRepository, ?, MessagingEngineService, CampaignsService). Please make sure that the argument \"DeviceRepository\" at index [2] is available in the RootTestModule context.\n\nPotential solutions:\n- Is RootTestModule a valid NestJS module?\n- If \"DeviceRepository\" is a provider, is it part of the current RootTestModule?\n- If \"DeviceRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n  @Module({\n    imports: [ /* the Module containing \"DeviceRepository\" */ ]\n  })\n\nFor more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n    at TestingInjector.lookupComponentInParentModules (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:290:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at TestingInjector.resolveComponentWrapper (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-injector.js:19:45)\n    at resolveParam (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:140:38)\n    at async Promise.all (index 2)\n    at TestingInjector.resolveConstructorParams (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:169:27)\n    at TestingInjector.loadInstance (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:75:13)\n    at TestingInjector.loadProvider (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\injector.js:103:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:56:13\n    at async Promise.all (index 3)\n    at TestingInstanceLoader.createInstancesOfProviders (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:55:9)\n    at C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:40:13\n    at async Promise.all (index 1)\n    at TestingInstanceLoader.createInstances (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:39:9)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2\\node_modules\\@nestjs\\core\\injector\\instance-loader.js:22:13)\n    at TestingInstanceLoader.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-instance-loader.js:9:9)\n    at TestingModuleBuilder.createInstancesOfDependencies (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:118:9)\n    at TestingModuleBuilder.compile (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\node_modules\\.pnpm\\@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc\\node_modules\\@nestjs\\testing\\testing-module.builder.js:74:9)\n    at Object.<anonymous> (C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\visitors\\visitors.service.spec.ts:30:35)"],"fullName":"VisitorsService getStats should return stats with trends","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1771703839040,"status":"failed","title":"should return stats with trends"}],"endTime":1771703839103,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mVisitorsService › should be defined\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the VisitorsService (UserRepository, VisitRepository, ?, MessagingEngineService, CampaignsService). Please make sure that the argument \"DeviceRepository\" at index [2] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"DeviceRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"DeviceRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"DeviceRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 28 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m   beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 30 |\u001b[39m     \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 31 |\u001b[39m       providers\u001b[33m:\u001b[39m [\u001b[22m\n\u001b[2m     \u001b[90m 32 |\u001b[39m         \u001b[33mVisitorsService\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m         {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 2)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/visitors/visitors.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:30:35)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mVisitorsService › findAll › should return paginated visitors\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the VisitorsService (UserRepository, VisitRepository, ?, MessagingEngineService, CampaignsService). Please make sure that the argument \"DeviceRepository\" at index [2] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"DeviceRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"DeviceRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"DeviceRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 28 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m   beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 30 |\u001b[39m     \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 31 |\u001b[39m       providers\u001b[33m:\u001b[39m [\u001b[22m\n\u001b[2m     \u001b[90m 32 |\u001b[39m         \u001b[33mVisitorsService\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m         {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 2)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/visitors/visitors.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:30:35)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mVisitorsService › create › should create a new visitor (user + visit) if user does not exist\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the VisitorsService (UserRepository, VisitRepository, ?, MessagingEngineService, CampaignsService). Please make sure that the argument \"DeviceRepository\" at index [2] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"DeviceRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"DeviceRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"DeviceRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 28 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m   beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 30 |\u001b[39m     \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 31 |\u001b[39m       providers\u001b[33m:\u001b[39m [\u001b[22m\n\u001b[2m     \u001b[90m 32 |\u001b[39m         \u001b[33mVisitorsService\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m         {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 2)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/visitors/visitors.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:30:35)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mVisitorsService › getStats › should return stats with trends\u001b[39m\u001b[22m\n\n    Nest can't resolve dependencies of the VisitorsService (UserRepository, VisitRepository, ?, MessagingEngineService, CampaignsService). Please make sure that the argument \"DeviceRepository\" at index [2] is available in the RootTestModule context.\n\n    Potential solutions:\n    - Is RootTestModule a valid NestJS module?\n    - If \"DeviceRepository\" is a provider, is it part of the current RootTestModule?\n    - If \"DeviceRepository\" is exported from a separate @Module, is that module imported within RootTestModule?\n      @Module({\n        imports: [ /* the Module containing \"DeviceRepository\" */ ]\n      })\n\n    For more common dependency resolution issues, see: https://docs.nestjs.com/faq/common-errors\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 28 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m   beforeEach(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 30 |\u001b[39m     \u001b[36mconst\u001b[39m module\u001b[33m:\u001b[39m \u001b[33mTestingModule\u001b[39m \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m \u001b[33mTest\u001b[39m\u001b[33m.\u001b[39mcreateTestingModule({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 31 |\u001b[39m       providers\u001b[33m:\u001b[39m [\u001b[22m\n\u001b[2m     \u001b[90m 32 |\u001b[39m         \u001b[33mVisitorsService\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m         {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.lookupComponentInParentModules (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:290:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveComponentWrapper (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-injector.js\u001b[2m:19:45)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat resolveParam (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:140:38)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 2)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.resolveConstructorParams (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:169:27)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadInstance (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:75:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInjector.loadProvider (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/injector.js\u001b[2m:103:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:56:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 3)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfProviders (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:55:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:40:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m          at async Promise.all (index 1)\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstances (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:39:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+core@11.1.14_@nestj_488fcd591e5c2c52e06716874218c4c2/node_modules/@nestjs/core/injector/instance-loader.js\u001b[2m:22:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingInstanceLoader.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-instance-loader.js\u001b[2m:9:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.createInstancesOfDependencies (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:118:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat TestingModuleBuilder.compile (\u001b[22m\u001b[2m../../../node_modules/.pnpm/@nestjs+testing@11.1.14_@ne_3c12c068d6af4247d49797d76634c0bc/node_modules/@nestjs/testing/testing-module.builder.js\u001b[2m:74:9)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/visitors/visitors.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:30:35)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\visitors\\visitors.service.spec.ts","startTime":1771703833756,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["ProductsService"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProductsService should be defined","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703839061,"status":"passed","title":"should be defined"},{"ancestorTitles":["ProductsService","create"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProductsService create should create a new product","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771703839070,"status":"passed","title":"should create a new product"},{"ancestorTitles":["ProductsService","findAllPublished"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProductsService findAllPublished should return only published products","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703839078,"status":"passed","title":"should return only published products"},{"ancestorTitles":["ProductsService","findAllAdmin"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProductsService findAllAdmin should return all products","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703839082,"status":"passed","title":"should return all products"},{"ancestorTitles":["ProductsService","findOne"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProductsService findOne should return a product if found","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703839085,"status":"passed","title":"should return a product if found"},{"ancestorTitles":["ProductsService","findOne"],"duration":38,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProductsService findOne should throw NotFoundException if not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703839099,"status":"passed","title":"should throw NotFoundException if not found"},{"ancestorTitles":["ProductsService","update"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProductsService update should update a product","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703839141,"status":"passed","title":"should update a product"},{"ancestorTitles":["ProductsService","remove"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProductsService remove should remove a product","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703839145,"status":"passed","title":"should remove a product"},{"ancestorTitles":["ProductsService","requestQuote"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProductsService requestQuote should create a quote request","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1771703839149,"status":"passed","title":"should create a quote request"},{"ancestorTitles":["ProductsService","negotiateQuote"],"duration":13,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProductsService negotiateQuote should throw if quote not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703839162,"status":"passed","title":"should throw if quote not found"},{"ancestorTitles":["ProductsService","negotiateQuote"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProductsService negotiateQuote should successfully negotiate","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703839175,"status":"passed","title":"should successfully negotiate"},{"ancestorTitles":["ProductsService","acceptQuote"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProductsService acceptQuote should accept quote and create order","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771703839179,"status":"passed","title":"should accept quote and create order"},{"ancestorTitles":["ProductsService","markOrderReady"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ProductsService markOrderReady should mark order as ready","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703839183,"status":"passed","title":"should mark order as ready"}],"endTime":1771703839192,"message":"","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\products\\products.service.spec.ts","startTime":1771703838013,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PlansService"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PlansService should be defined","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703839395,"status":"passed","title":"should be defined"},{"ancestorTitles":["PlansService"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PlansService should create a new plan","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771703839405,"status":"passed","title":"should create a new plan"},{"ancestorTitles":["PlansService"],"duration":31,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PlansService should return all plans","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703839412,"status":"passed","title":"should return all plans"},{"ancestorTitles":["PlansService"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PlansService should return one plan by id","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703839443,"status":"passed","title":"should return one plan by id"},{"ancestorTitles":["PlansService"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PlansService should update a plan","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703839451,"status":"passed","title":"should update a plan"},{"ancestorTitles":["PlansService"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"PlansService should remove a plan","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703839471,"status":"passed","title":"should remove a plan"}],"endTime":1771703839476,"message":"","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\subscriptions\\plans.service.spec.ts","startTime":1771703838478,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["DevicesService"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DevicesService should create a device","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703839472,"status":"passed","title":"should create a device"},{"ancestorTitles":["DevicesService"],"duration":32,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DevicesService should throw ConflictException if code exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703839480,"status":"passed","title":"should throw ConflictException if code exists"},{"ancestorTitles":["DevicesService"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DevicesService should return stats","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1771703839512,"status":"passed","title":"should return stats"},{"ancestorTitles":["DevicesService","generateDevicesForReadyOrders"],"duration":14,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DevicesService generateDevicesForReadyOrders should generate devices correctly based on ready orders amount not yet generated","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1771703839517,"status":"passed","title":"should generate devices correctly based on ready orders amount not yet generated"},{"ancestorTitles":["DevicesService","generateDevicesForReadyOrders"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DevicesService generateDevicesForReadyOrders should handle missing quote or no remaining devices gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703839531,"status":"passed","title":"should handle missing quote or no remaining devices gracefully"},{"ancestorTitles":["DevicesService","updateAssetNames"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"DevicesService updateAssetNames should update name for matching assets","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771703839537,"status":"passed","title":"should update name for matching assets"}],"endTime":1771703839547,"message":"","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\devices\\devices.service.spec.ts","startTime":1771703838485,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["AuthService","registerOwner"],"duration":148,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService registerOwner should register an owner and a business","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1771703839400,"status":"passed","title":"should register an owner and a business"},{"ancestorTitles":["AuthService","registerOwner"],"duration":34,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AuthService registerOwner should throw ConflictException if email exists","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703839548,"status":"passed","title":"should throw ConflictException if email exists"}],"endTime":1771703839584,"message":"","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\auth\\auth.service.spec.ts","startTime":1771703837990,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["InboxService","sendReply"],"duration":39,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"InboxService sendReply should throw NotFoundException if thread does not exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703839542,"status":"passed","title":"should throw NotFoundException if thread does not exist"},{"ancestorTitles":["InboxService","sendReply"],"duration":20,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"InboxService sendReply should send reply via engine, update thread status to OPEN, and return message","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1771703839582,"status":"passed","title":"should send reply via engine, update thread status to OPEN, and return message"},{"ancestorTitles":["InboxService","closeInactiveThreads"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"InboxService closeInactiveThreads should execute query builder to update inactive threads","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703839602,"status":"passed","title":"should execute query builder to update inactive threads"}],"endTime":1771703839610,"message":"","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\messaging\\services\\inbox.service.spec.ts","startTime":1771703837621,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["BatchSendProcessor","process"],"duration":19,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BatchSendProcessor process should return 0 success if business is not found","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771703839798,"status":"passed","title":"should return 0 success if business is not found"},{"ancestorTitles":["BatchSendProcessor","process"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"BatchSendProcessor process should process contacts and increment success/failure counts accordingly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771703839818,"status":"passed","title":"should process contacts and increment success/failure counts accordingly"}],"endTime":1771703839825,"message":"","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\messaging\\processors\\batch-send.processor.spec.ts","startTime":1771703837717,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ComplianceService","validateConsentBeforeSend"],"duration":22,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceService validateConsentBeforeSend should throw ForbiddenException if contact is opted out entirely","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703840127,"status":"passed","title":"should throw ForbiddenException if contact is opted out entirely"},{"ancestorTitles":["ComplianceService","validateConsentBeforeSend"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceService validateConsentBeforeSend should throw ForbiddenException if contact has not opted into the channel","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703840150,"status":"passed","title":"should throw ForbiddenException if contact has not opted into the channel"},{"ancestorTitles":["ComplianceService","validateConsentBeforeSend"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceService validateConsentBeforeSend should pass normally if contact is opted in for the channel","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703840156,"status":"passed","title":"should pass normally if contact is opted in for the channel"},{"ancestorTitles":["ComplianceService","handleOptOut"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"ComplianceService handleOptOut should update contact optOut status and clear channels","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703840159,"status":"passed","title":"should update contact optOut status and clear channels"}],"endTime":1771703840163,"message":"","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\messaging\\services\\compliance.service.spec.ts","startTime":1771703839600,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["AppController","root"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"AppController root should return \"Hello World!\"","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703840228,"status":"passed","title":"should return \"Hello World!\""}],"endTime":1771703840238,"message":"","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\app.controller.spec.ts","startTime":1771703839688,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["TemplateService","render"],"duration":8,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"TemplateService render should correctly replace variables in template content","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703840257,"status":"passed","title":"should correctly replace variables in template content"},{"ancestorTitles":["TemplateService","createTemplate"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"TemplateService createTemplate should successfully create and save a template","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771703840266,"status":"passed","title":"should successfully create and save a template"}],"endTime":1771703840269,"message":"","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\messaging\\services\\template.service.spec.ts","startTime":1771703839209,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SurveysService"],"duration":11,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SurveysService should be defined","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703840253,"status":"passed","title":"should be defined"},{"ancestorTitles":["SurveysService","findByBusiness"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SurveysService findByBusiness should return survey for a business","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703840264,"status":"passed","title":"should return survey for a business"},{"ancestorTitles":["SurveysService","createOrUpdate"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SurveysService createOrUpdate should create a new survey if not exists","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1771703840268,"status":"passed","title":"should create a new survey if not exists"},{"ancestorTitles":["SurveysService","createOrUpdate"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"SurveysService createOrUpdate should update existing survey","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771703840274,"status":"passed","title":"should update existing survey"}],"endTime":1771703840278,"message":"","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\surveys\\surveys.service.spec.ts","startTime":1771703839165,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["NotificationsService"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationsService should create a notification","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703840435,"status":"passed","title":"should create a notification"},{"ancestorTitles":["NotificationsService"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationsService should find notifications by user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703840439,"status":"passed","title":"should find notifications by user"},{"ancestorTitles":["NotificationsService"],"duration":2,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"NotificationsService should get unread count","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703840441,"status":"passed","title":"should get unread count"}],"endTime":1771703840443,"message":"","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\notifications\\notifications.service.spec.ts","startTime":1771703839577,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["CreditService","deduct"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CreditService deduct should deduct credits if balance is sufficient","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1771703840427,"status":"passed","title":"should deduct credits if balance is sufficient"},{"ancestorTitles":["CreditService","deduct"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CreditService deduct should throw BadRequestException if balance is insufficient","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1771703840432,"status":"passed","title":"should throw BadRequestException if balance is insufficient"},{"ancestorTitles":["CreditService","deduct"],"duration":1,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"CreditService deduct should throw BadRequestException if business is not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1771703840442,"status":"passed","title":"should throw BadRequestException if business is not found"}],"endTime":1771703840444,"message":"","name":"C:\\Users\\Azeem\\Documents\\github\\Mcom\\vemtap-workspace\\apps\\backend\\src\\modules\\messaging\\services\\credit.service.spec.ts","startTime":1771703839520,"status":"passed","summary":""}],"wasInterrupted":false}
